<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css"
    />
    <title>Piyango API</title>
    <link
      rel="shortcut icon"
      href="https://piyango.online/images/icons/icon-192.png"
      type="image/png"
    />
    <style>
      li {
        list-style: none;
      }
      a,
      code {
        font-size: 110%;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>
        <img
          src="https://piyango.online/images/icons/icon-192.png"
          alt="Logo"
          width="32"
          height="32"
        />
        Piyango API
      </h1>
      <p>File-based proxy server for Turkey’s national lottery games.</p>
      <h2>Types</h2>
      <p>
        The following is a list of the types of data used within the Piyango
        API:
      </p>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Definition</th>
            <th>Example</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>ID</td>
            <td>A unique value used to identify resources.</td>
            <td><code>q1w2e3r4t5</code></td>
          </tr>
          <tr>
            <td>String</td>
            <td>
              A string is a sequence of characters used to represent text.
            </td>
            <td><code>&quot;JACKPOT&quot;</code></td>
          </tr>
          <tr>
            <td>Integer</td>
            <td>An integer is a number without decimals.</td>
            <td><code>12345</code></td>
          </tr>
          <tr>
            <td>Enum</td>
            <td>An Enum is a String with only a few possible valid values.</td>
            <td><code>&quot;X&quot; | &quot;Y&quot;</code></td>
          </tr>
          <tr>
            <td>Date</td>
            <td>A date string in the form of YYYYMMDD.</td>
            <td><code>20200311</code></td>
          </tr>
        </tbody>
      </table>
      <h2>Endpoints</h2>
      <ul>
        <li>
          <h3>Root</h3>
          <p><code>GET https://dev.piyango.online/api/</code></p>
        </li>
        <li>
          <h3>Games</h3>
          <p>Get the list of games that the API currently supports.</p>
          <p><code>GET https://dev.piyango.online/api/games</code></p>
          <h4>Example Request</h4>
          <p>
            <a href="https://dev.piyango.online/api/games"
              >https://dev.piyango.online/api/games</a
            >
          </p>
        </li>
        <li>
          <h3>Draw Dates</h3>
          <p>Get draw dates for given game.</p>
          <p>
            <code>GET https://dev.piyango.online/api/drawdates/:gameId</code>
          </p>
          <ul>
            <li>
              <h4>URL Parameters</h4>
              <table>
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>gameId</td>
                    <td>Enum</td>
                    <td>Yes</td>
                    <td>
                      A unique value used to identify games. Should be one of
                      the following: <code>sayisal</code>,
                      <code>sanstopu</code>, <code>onnumara</code>,
                      <code>superloto</code>, <code>piyango</code>
                    </td>
                  </tr>
                </tbody>
              </table>
              <h4>Example Request</h4>
              <p>
                <a href="https://dev.piyango.online/api/drawdates/sayisal"
                  >https://dev.piyango.online/api/drawdates/sayisal</a
                >
              </p>
              <h4>Query parameters</h4>
              <p>The following query parameters are allowed:</p>
              <table>
                <thead>
                  <tr>
                    <th>Query param</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Default value</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code>limit</code></td>
                    <td>Integer</td>
                    <td>No</td>
                    <td><code>52</code> (~1 year worth of draw data)</td>
                    <td>
                      Limit the number of results returned. Provide
                      <code>0</code> for unlimited results.
                    </td>
                  </tr>
                  <tr>
                    <td><code>skip</code></td>
                    <td>Integer</td>
                    <td>No</td>
                    <td><code>0</code></td>
                    <td>
                      Use it in conjunction with <code>limit</code> to
                      <strong>paginate results</strong>.
                    </td>
                  </tr>
                  <tr>
                    <td><code>sort</code></td>
                    <td>Enum</td>
                    <td>No</td>
                    <td><code>desc</code></td>
                    <td>
                      Specifies the sorting order in which the results will be
                      returned. Should be one of these two: <code>asc</code> -
                      <code>desc</code>.
                    </td>
                  </tr>
                </tbody>
              </table>
              <h4>Example Request</h4>
              <p>
                The following request returns the results for draws 11 through
                20 for the game <code>sayisal</code>.
              </p>
              <p>
                <a
                  href="https://dev.piyango.online/api/drawdates/sayisal?limit=10&amp;skip=10&amp;sort=asc"
                  >https://dev.piyango.online/api/drawdates/sayisal?limit=10&amp;skip=10&amp;sort=asc</a
                >
              </p>
            </li>
          </ul>
        </li>
        <li>
          <h3>Draws</h3>
          <p>
            Get the information for a specific draw. Returns the details of the
            <strong>last draw</strong> if <code>drawDate</code> is omitted.
          </p>
          <p>
            <code
              >GET https://dev.piyango.online/api/draws/:gameId/?:drawDate</code
            >
          </p>
          <ul>
            <li>
              <h4>URL Parameters</h4>
              <table>
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>gameId</td>
                    <td>Enum</td>
                    <td>Yes</td>
                    <td>
                      A unique value used to identify games. Should be one of
                      the following: <code>sayisal</code>,
                      <code>sanstopu</code>, <code>onnumara</code>,
                      <code>superloto</code>, <code>piyango</code>
                    </td>
                  </tr>
                  <tr>
                    <td>drawDate</td>
                    <td>Date</td>
                    <td>No</td>
                    <td>
                      The date of the draw in <code>YYYYMMDD</code> format.
                    </td>
                  </tr>
                </tbody>
              </table>
              <h4>Example Requests</h4>
              <p>
                <a href="https://dev.piyango.online/api/draws/superloto"
                  >https://dev.piyango.online/api/draws/superloto</a
                >
              </p>
              <p>
                <a href="https://dev.piyango.online/api/draws/sayisal/20200311"
                  >https://dev.piyango.online/api/draws/sayisal/20200311</a
                >
              </p>
            </li>
          </ul>
        </li>
        <li>
          <h3>Draw History</h3>
          <p>
            Get the draw history of the date. If no parameters are provided, it
            returns the dates of all possible draws for all games that match the
            current day and month. Providing <code>date</code> and
            <code>gameId</code> further filters the results.
          </p>
          <p>
            <code
              >GET
              https://dev.piyango.online/api/drawhistory/?:date/?:gameId</code
            >
          </p>
          <ul>
            <li>
              <h4>URL Parameters</h4>
              <table>
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>date</td>
                    <td>Date</td>
                    <td>No</td>
                    <td>The date string in <code>YYYYMMDD</code> format.</td>
                  </tr>
                  <tr>
                    <td>gameId</td>
                    <td>Enum</td>
                    <td>No</td>
                    <td>
                      A unique value used to identify games. Should be one of
                      the following: <code>sayisal</code>,
                      <code>sanstopu</code>, <code>onnumara</code>,
                      <code>superloto</code>, <code>piyango</code>
                    </td>
                  </tr>
                </tbody>
              </table>
              <h4>Example Request</h4>
              <p>
                <a href="https://dev.piyango.online/api/drawhistory/20200310"
                  >https://dev.piyango.online/api/drawhistory/20200310</a
                >
              </p>
            </li>
          </ul>
        </li>
        <li>
          <h3>Check</h3>
          <p>
            Check the numbers against a specific draw. You can use
            <code>#</code>, <code>-</code>, <code>+</code>, <code>_</code> and
            <code>,</code> as the delimiter. Note that in the case of Sans Topu,
            the <strong>last number must be the bonus (+1) number</strong>.
            Milli Piyango (National Lottery) ticket numbers must be provided as
            is, without a delimiter between numbers.
          </p>
          <p>
            <code
              >POST https://dev.piyango.online/api/check/:gameId/:drawDate</code
            >
          </p>
          <ul>
            <li>
              <h4>URL Parameters</h4>
              <table>
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>gameId</td>
                    <td>Enum</td>
                    <td>Yes</td>
                    <td>
                      A unique value used to identify games. Should be one of
                      the following: <code>sayisal</code>,
                      <code>sanstopu</code>, <code>onnumara</code>,
                      <code>superloto</code>, <code>piyango</code>
                    </td>
                  </tr>
                  <tr>
                    <td>drawDate</td>
                    <td>Date</td>
                    <td>Yes</td>
                    <td>
                      The date of the draw in <code>YYYYMMDD</code> format.
                    </td>
                  </tr>
                </tbody>
              </table>
            </li>
            <li>
              <h4>Request Parameters</h4>
              <table>
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>numbers</td>
                    <td>String[]</td>
                    <td>Yes</td>
                    <td>
                      Array of ‘stringified’ numbers to be checked, each
                      representing a ticket or a selection of numbers
                    </td>
                  </tr>
                </tbody>
              </table>
              <h4>Example Request</h4>
              <pre><code class="language-bash">curl -X POST &quot;https://dev.piyango.online/api/check/superloto/20200312&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -d '{
    &quot;numbers&quot;: [
      &quot;05#20#24#25#32#34&quot;,
      &quot;07#24#25#08#10#51&quot;
    ]
  }'
</code></pre>
            </li>
          </ul>
        </li>
      </ul>
      <ul>
        <li>
          <h3>Embed</h3>
          <p>
            Get embeddable HLS stream of the draw. Returns dummy stream if the
            requested stream is not found.
          </p>
          <p>
            <code
              >GET https://dev.piyango.online/api/embed/:gameId/:drawDate</code
            >
          </p>
          <ul>
            <li>
              <h4>URL Parameters</h4>
              <table>
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Type</th>
                    <th>Required</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>gameId</td>
                    <td>Enum</td>
                    <td>Yes</td>
                    <td>
                      A unique value used to identify games. Should be one of
                      the following: <code>sayisal</code>,
                      <code>sanstopu</code>, <code>onnumara</code>,
                      <code>superloto</code>, <code>piyango</code>
                    </td>
                  </tr>
                  <tr>
                    <td>drawDate</td>
                    <td>Date</td>
                    <td>Yes</td>
                    <td>
                      The date of the draw in <code>YYYYMMDD</code> format.
                    </td>
                  </tr>
                </tbody>
              </table>
              <h4>Example Request</h4>
              <p>
                <a href="https://dev.piyango.online/api/embed/sayisal/20200314"
                  >https://dev.piyango.online/api/embed/sayisal/20200314</a
                >
              </p>
            </li>
          </ul>
        </li>
      </ul>
      <ul>
        <li>
          <h3>Server Time</h3>
          <p>
            Get the time of the server as a
            <a href="https://momentjs.com/docs/#/displaying/as-object/"
              >moment object</a
            >.
          </p>
          <p><code>GET https://dev.piyango.online/api/time</code></p>
          <h4>Example Request</h4>
          <p>
            <a href="https://dev.piyango.online/api/time"
              >https://dev.piyango.online/api/time</a
            >
          </p>
        </li>
      </ul>
    </div>
  </body>
</html>
